"use strict";
! function() {
    var t = {
            menu: [{
                title: "Feedback",
                id: "feedback",
                submenu: [{
                    title: "&#x1F44D;",
                    id: "p1"
                }, {
                    title: "&#x1F44E;",
                    id: "p2"
                }]
            }, {
                title: "Documents",
                id: "documents",
                submenu: [{
                    title: "Previous Documents",
                    id: "previous"
                }, {
                    title: "Upload a new one",
                    id: "upload"
                }]
            }, {
                title: "Query",
                id: "query",
                submenu: [{
                    title: "New query",
                    id: "new"
                }]
            }]
        },
        e = void 0,
        n = 45e3,
        o = document.querySelector(".chat"),
        i = document.querySelector(".content"),
        a = function(t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "user",
                n = document.createElement("li"),
                i = function(t, e) {
                    setTimeout(function() {
                        t.classList.add("show")
                    }, 150 * e ? 150 * e : 10)
                },
                a = void 0,
                s = function() {
                    o.scrollTop += Math.floor(n.offsetHeight / 18)
                };
            if (n.classList.add("message"), n.classList.add(e), n.innerHTML = "user" === e ? "<nav>" + t + "</nav>" : "<p>" + t + "</p>", o.appendChild(n), a = window.setInterval(s, 16), setTimeout(function() {
                    window.clearInterval(a), o.scrollTop = o.scrollHeight
                }, 300), setTimeout(function() {
                    n.classList.add("show")
                }, 10), "user" === e) {
                for (var r = o.querySelectorAll("button:not(:disabled)"), c = 0; c < r.length; c += 1) i(r[c], c);
                n.classList.add("active")
            }
        },
        s = function(t) {
            return t[Math.floor(Math.random() * t.length)]
        },
        c = function() {
            var t = ["Hi! &#x1F44B; I'm a bot here to answer the questions you have regarding the document."];
            e = window.setInterval(function() {
                window.clearInterval(e), r()
            }, n), a(s(t), "bot"), setTimeout(function() {
                var t = ["Continue &#x1F680;"];
                a('<button class="choice start">' + s(t) + "</button>")
            }, 300)
        },
        u = function(t) {
            t.parentNode.parentNode.classList.add("selected"), t.parentNode.parentNode.classList.remove("active"), t.parentNode.parentNode.innerHTML = "<p>" + t.textContent + "</p>"
        },
        l = function(i) {
            var c = "",
                l = o.querySelector("button.newmenu"),
                d = ["Here's a few things that I can tell you about... &#x1F3A4;"],
                m = ["What would you like to know more about? &#x1F4A1;", "Can I interest you in any of this? &#x1F4AF;", "Select something of the following... &#x1F447;"];
            l && u(l), setTimeout(function() {
                i ? a(s(d), "bot") : a(s(m), "bot"), t.menu.forEach(function(t, e) {
                    c += '<button class="choice menu" data-submenu="' + e + '">' + t.title + "</button>"
                }), setTimeout(function() {
                    a(c)
                }, 300)
            }, 500), e = window.setInterval(function() {
                window.clearInterval(e), r()
            }, n)
        },
        d = function(e) {
            var n = "",
                o = t.menu[e.getAttribute("data-submenu")],
                i = ["Please give positive/negative feedback on the chatbot."],
                d = ["Select one of the following... &#x1F3A4;"],
                r = ["Show me the menu again &#x1F60B;"];
            o.submenu.forEach(function(t) {
                var e = o.id + "-" + t.id;
                n += '<button class="choice submenu" aria-controls="' + e + '" data-content="' + e + '">' + t.title + "</button>"
            }), n += '<br /><button class="choice submenu newmenu">' + s(r) + "</button>", setTimeout(function() {
                a(s(d), "bot"), setTimeout(function() {
                    a(n)
                }, 300)
            }, 500)
        },
        m = function(t) {
            var e = o.querySelectorAll("button");
            t ? (t.classList.add("show"), o.setAttribute("aria-hidden", "true"), i.setAttribute("aria-hidden", "false"), i.tabIndex = "0", i.focus()) : (i.setAttribute("aria-hidden", "true"), i.tabIndex = "-1", o.setAttribute("aria-hidden", "false"), history.state && "content" === history.state.id && history.back(), setTimeout(function() {
                var t = document.querySelector(".content article.show");
                t && (t.classList.remove("show"), o.querySelector('button[data-content="' + t.id + '"]').focus())
            }, 300));
            for (var n = 0; n < e.length; n += 1) e[n].tabIndex = t ? "-1" : "0"
        },
        h = function(t) {
            t.classList.contains("newmenu") ? l(!0) : (m(document.getElementById(t.getAttribute("data-content"))), history.pushState({
                id: t.getAttribute("data-content")
            }, "", "#" + t.getAttribute("data-content")))
        };
    document.addEventListener("click", function(t) {
        t.target.classList.contains("choice") && (window.clearInterval(e), t.target.classList.contains("submenu") || u(t.target), t.target.classList.contains("menu") && d(t.target), t.target.classList.contains("submenu") && h(t.target), t.target.classList.contains("start") && l(), t.target.classList.contains("showmenu") && l(!0), t.target.classList.contains("showinfo") && ! function() {
            setTimeout(function() {
                a(s(t) + ' <a target="_new" href="https://librarian.codes">https://librarian.codes</a>', "bot"), setTimeout(function() {
                    a('<button class="choice newmenu showmenu">' + s(e) + "</button>")
                }, 300)
            }, 500)
        }()), t.target.classList.contains("close") && (t.preventDefault(), history.back())
    }), document.addEventListener("keydown", function(t) {
        27 === t.keyCode && "false" === i.getAttribute("aria-hidden") && history.back()
    }), window.addEventListener("popstate", function(t) {
        m(t.state && t.state.id && document.getElementById(t.state.id) ? document.getElementById(t.state.id) : "")
    }), setTimeout(function() {
        c()
    }, 500), document.getElementById(window.location.hash.split("#")[1]) && ! function() {
        var t = window.location.hash.split("#")[1];
        history.replaceState("", "", "."), setTimeout(function() {
            m(document.getElementById(t)), history.pushState({
                id: t
            }, "", "#" + t)
        }, 10)
    }()
}();

document.getElementById('buttonid').onclick = function() {
    window.open('https://script.google.com/macros/s/AKfycbyYdN7fBgGqnAgOkaL1PjkN4BpD72lD6qcrerME9cBShRgmevA/exec','_blank');
  };